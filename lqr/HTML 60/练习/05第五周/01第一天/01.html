<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            text-align: center;
        }
    </style>
</head>

<body>
    <p>
        <input type="checkbox" name="" id="">
        <span>全选</span>
        <a href="#">反选</a>
    </p>
    <p>
        <input type="checkbox" name="" id="">选项一<br>
        <input type="checkbox" name="" id="">选项二<br>
        <input type="checkbox" name="" id="">选项三<br>
        <input type="checkbox" name="" id="">选项四<br>
        <input type="checkbox" name="" id="">选项五<br>
        <input type="checkbox" name="" id="">选项六<br>
        <input type="checkbox" name="" id="">选项七<br>
        <input type="checkbox" name="" id="">选项八<br>
        <input type="checkbox" name="" id="">选项九<br>
        <input type="checkbox" name="" id="">选项十
    </p>
    <p>切换全选/全部选文字</p>
</body>
<script>
    /* 
        1.当九个选项卡被选中时全选的文字变成全不选
        2.点击全选 十个选项卡被选中 全选文字变成全不选
        3.点击全不选 十个选项卡都不被选中 全部选文字变成全选
        4.
     */
    //拿出第一个
    var firstOne = document.querySelector('input');
    var inputAll = document.querySelectorAll('input');
    var a = document.querySelector('a');
    var span = document.querySelector('span');

    //  给input绑定事件
    for (var i = 1; i < inputAll.length; i++) {
        inputAll[i].onclick = function () {
            show();
        }
    }
    // 因为展示效果多出都要用到 所以封装一个函数
    function show() {
        // 记录选中的数量
        var num = 0;
        //1.遍历出来所有的单一的选项卡
        for (var j = 1; j < inputAll.length; j++) {
            // 当每一个选项卡
            // if (inputAll[j].checked) {
            //     num++;
            // }
            //简单的写法
            inputAll[j].checked && num++;
        }
        console.log(num);
        firstOne.checked = (num === inputAll.length - 1);
        span.innerHTML = firstOne.checked ? '全不选' : '全选';
    }

    // 2.点击全选全不选
    firstOne.onclick = function () {
        for (var j = 1; j < inputAll.length; j++) {
            inputAll[j].checked = firstOne.checked;
        }
        span.innerHTML = firstOne.checked ? '全不选' : '全选';
    }

    a.onclick = function (e) {
        // 因为a标签有默认行为
        e.preventDefault();
        for (var j = 1; j < inputAll.length; j++) {
            inputAll[j].checked = !inputAll[j].checked;
        }
        show();
    }
</script>

</html>